<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="utf-8">
<!--
   +MMMMMM.     MMMMM7    MMMMMMMMMMM.    MMMMMM7     MMMMM  MMMMM. .MMMMMMMMMMMMMMM    MMMMMMMMMMMMMMM
    MMMMMMM.  .MMMMMM   MMMMMMMMMMMMMM8   MMMMMM7     MMMMM  MMMMM   MMMMMMMMMMMMMMMMM  MMMMMMMMMMMMMMM
     MMMMMMM  MMMMM?   MMMMMMMM7MMMMMMMM. MMMMMM7     MMMMM  MMMMM.  MMMMMM7778MMMMMMM= MMMMMMMMMMMMMMM
      MMMMMMMMMMMMM.  :MMMMMM7   .MMMMMM. MMMMMM7     MMMMM   .MM,   MMMMMM.   .MMMMMMM MMMMMM
       MMMMMMMMMMM    MMMMMMM     MMMMMMM MMMMMM7     MMMMM   MM,    MMMMMM.  ..MMMMMMO MMMMMM
        MMMMMMMMM     MMMMMMO     MMMMMMM MMMMMM7     MMMMM          MMMMMMMMMMMMMMMMM  MMMMMMMMMMMMM
         MMMMMMM.     MMMMMM$     NMMMMMM MMMMMM7     MMMMM          MMMMMMMMMMMMMMMD   MMMMMMMMMMMMM
         =MMMMMI     .MMMMMMM.    MMMMMMM MMMMMM7     MMMMM          MMMMMMMMMMMMMMI    MMMMMM
         =MMMMM7      DMMMMMM     MMMMMM$ MMMMMM8    .MMMMM          MMMMMM. ZMMMMMM    MMMMMM
         =MMMMM7      .MMMMMMM . MMMMMMM  MMMMMMMM .ZMMMMM7          MMMMMM...MMMMMMM   MMMMMMMMMMMMMMM
         =MMMMM7        MMMMMMMMMMMMMMM.  .MMMMMMMMMMMMMMM           MMMMMM.  .MMMMMMI  MMMMMMMMMMMMMMM
         =MMMMM7         8MMMMMMMMMMMZ.     MMMMMMMMMMMMM            MMMMMM.  .MMMMMMM  MMMMMMMMMMMMMMM
         =MMMMM7            $MMMMM?            NMMMMMM.              MMMMMM     MMMMMMM MMMMMMMMMMMMMMM


       .=MMMMMMM.     OMMMMMM    .MMMMM       MMMMMMM       MMMMMM    ~MMMMMM
      MMMMMMMMMMMMM.  8MMMMMM     MMMMM    8MMMMMMMMMMM$    MMMMMM    =MMMMMM
     MMMMMMMMMMMMMMM. 8MMMMMM     MMMMM   MMMMMMMMMMMMMMM   MMMMMM    =MMMMMM
   .MMMMMM,  .?MMMMD. 8MMMMMM     MMMMM .MMMMMMM. .MMMMMM.  MMMMMM    =MMMMMM
   .MMMMMMM.          8MMMMMM     MMMMM  MMMMMM.   .MMMMMM. MMMMMM    =MMMMMM
    NMMMMMMMMMMMM~..  8MMMMMM     MMMMM :MMMMMM.            MMMMMMMMMMMMMMMMM
    .MMMMMMMMMMMMMMM  8MMMMMM     MMMMM 8MMMMMM             MMMMMMMMMMMMMMMMM
       MMMMMMMMMMMMMD 8MMMMMM     MMMMM 8MMMMMM             MMMMMMMMMMMMMMMMM
           ,MMMMMMMMM 8MMMMMM     MMMMM  MMMMMM.    MMMMMZ  MMMMMM    =MMMMMM
   MMMMMM.     MMMMMM 8MMMMMM     MMMMM .MMMMMM,    MMMMMM. MMMMMM    =MMMMMM
    MMMMMMMMMMMMMMMMM  MMMMMMMMMMMMMMM8   MMMMMMMMMMMMMMM   MMMMMM    =MMMMMM
    .MMMMMMMMMMMMMMM   $MMMMMMMMMMMMMM     MMMMMMMMMMMMM.   MMMMMM    =MMMMMM
      OMMMMMMMMMMM.      MMMMMMMMMMM.       8MMMMMMMMMZ     MMMMMM    ~MMMMMM


         MMMMMMM.
        ?MMMMMMM:
        MMMMMMMMM
       :MMMMMMMMM.
       MMMMMMMMMMM.
      ,MMMM  MMMMM.
      MMMMM  MMMMMM
     ,MMMMI77DMMMMM.
     MMMMMMMMMMMMMMM
    .MMMMMMMMMMMMMMM.
    MMMMM     .MMMMMM
   .MMMMM      MMMMMM.
   MMMMM.      OMMMMMM


   7MMMMMM      MMMMM  MMMMMMMMMMMMMMM  MMMMMMMMMMMMMMM    MMMMMMMMMMMM8.
   7MMMMMMM     MMMMM  MMMMMMMMMMMMMMM  MMMMMMMMMMMMMMMMO. MMMMMMMMMMMMMMM
   7MMMMMMMM.   MMMMM  MMMMMMMMMMMMMMM  MMMMMM777MMMMMMMM. MMMMMMMMMMMMMMMM
   7MMMMMMMMM.  MMMMM  MMMMMM           MMMMMM    .MMMMMM= MMMMMM    MMMMMMM.
   7MMMMMMMMMM  MMMMM  MMMMMM           MMMMMM.  ..MMMMMM  MMMMMM     MMMMMM.
   7MMMM MMMMMM.MMMMM  MMMMMMMMMMMMM    MMMMMMMMMMMMMMMMM. MMMMMM     MMMMMMI
   7MMMMI MMMMMNMMMMM  MMMMMMMMMMMMM    MMMMMMMMMMMMMMM~   MMMMMM     MMMMMMZ
   7MMMM7  MMMMMMMMMM  MMMMMM           MMMMMMMMMMMMMM     MMMMMM     MMMMMM
   7MMMM7  =MMMMMMMMM  MMMMMM           MMMMMM  MMMMMMM.   MMMMMM   .MMMMMMM
   7MMMM7   +MMMMMMMM  MMMMMM           MMMMMM   MMMMMMO   MMMMMM...MMMMMMM.
   7MMMM7    ?MMMMMMM  MMMMMMMMMMMMMMM  MMMMMM  .DMMMMMM.  MMMMMMMMMMMMMMM.
   7MMMM7    .IMMMMMM  MMMMMMMMMMMMMMM  MMMMMM    MMMMMMM  MMMMMMMMMMMMMN
   7MMMM7      $MMMMM  MMMMMMMMMMMMMMM..MMMMMM    .MMMMMM$ MMMMMMMMMI

-->
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>  install canon pixma mp620 on arch linux - greg&#039;s weblog</title>
<meta name="robots" content="all">
<meta name="author" content="Greg Knapp">
<meta name="description" content="Greg's web log about software development, operating systems and other geeky topics">
<meta name="viewport" content="width=1024px">
<link rel="me" type="text/html" href="http://www.google.com/profiles/virtual.greg">
<link rel="stylesheet" type="text/css" media="screen" href="http://static.gregk.me/css/style.min.130721.css">
<!--[if lt IE 7]>
<link rel="stylesheet" type="text/css" media="screen" href="http://static.gregk.me/css/ie6.css">
<![endif]-->
<!--[if IE]>
<style type="text/css" media="screen">
.post div.content, .post div.comments {
	display: inline-block;
}

#query {
    line-height: 1.6;
}
</style>
<![endif]-->

<script type='text/javascript' src='http://archive.gregk.me/wp-includes/js/comment-reply.min.js?ver=3.8.3'></script>

<link rel='prev' title='Interviews 101: get that dev job!' href='/2012/interviews-101-get-that-dev-job' />
<link rel='next' title='Hidden Value' href='/2013/hidden-value' />

<link rel='canonical' href='/2013/install-canon-pixma-mp620-on-arch-linux' />
<link rel='shortlink' href='/2013/install-canon-pixma-mp620-on-arch-linux' />
</head>
<body>
<div id="container_header">
  <div id="header">
    <div class="title"><a href="/">greg&#039;s weblog</a></div>
    <div class="slug">the more I learn, the less I know</div>
  </div>
</div>
<div id="container_flooring">
  <div id="flooring">
    <div id="books">
      <img src="resources/images/books.png" width="330" height="298" usemap="#map_books" alt="about me" title="">
      <map name="map_books" id="map_books">
        <area shape="poly" coords="17,73,81,288,210,248,254,264,321,88,206,37,173,8,140,36" href="about" alt="about me" title="">
      </map>
    </div>
    <div id="camera">
      <img src="resources/images/camera.png" width="165" height="178" usemap="#map_camera" alt="photography">
      <map name="map_camera" id="map_camera">
        <area shape="poly" coords="10,24,34,100,29,133,39,165,157,125,143,77,126,66,111,75,106,92,98,93,93,87,97,75,75,2" href="photography.html" alt="photography" title="">
      </map>
    </div>
    <div id="macbook">
      <img src="resources/images/macbook.png" width="373" height="357" usemap="#map_macbook" alt="software projects">
      <map name="map_macbook" id="map_macbook">
        <area shape="poly" coords="49,5,55,98,9,279,273,346,318,167,374,86" href="software.html" alt="software projects" title="">
      </map>
    </div>
    <div id="iphone">
      <img src="resources/images/iphone.png" width="81" height="107" usemap="#map_iphone" alt="contact me">
      <map name="map_iphone" id="map_iphone">
        <area shape="poly" coords="7,83,37,2,79,17,50,99" href="contact.html" alt="contact me">
      </map>
    </div>
  </div>
</div>
<div id="container_stage">
    <div id="stage">
        <div id="content" class="hfeed">
              <div class="post hentry" id="post-1660">
                <div class="heading">
                    <div class="date">
                        <div class="day">15</div><div class="month">Feb</div>
                    </div>
                    <div class="title">
                        <h1 class="entry-title"><a href="/2013/install-canon-pixma-mp620-on-arch-linux">Install Canon PIXMA MP620 on Arch Linux</a></h1>
                        <small>
                        	posted <abbr class="published" title="2013-02-15T00:24:39+00:00">2013</abbr> // 
                        	<a href="category/hardware" title="View all posts in hardware" rel="category tag">hardware</a>, <a href="category/tech" title="View all posts in tech" rel="category tag">tech</a> // <span class="comment"><a href="/2013/install-canon-pixma-mp620-on-arch-linux#comments">3</a></span>
                        </small>
                    </div>
                </div>
                <div class="content entry-content">
                	<p>I spent around an hour piecing information together about how to install this printer on Arch. It seems Canon&#8217;s support for this device is near non-existant. Their newer devices seem to be better supported. I recently installed a PIXMA 5350 on my parents Ubuntu 12.04 desktop within <em>five minutes</em>. Installing this older model on Arch Linux wasn&#8217;t as straightforward.<br />
<span id="more-1660"></span><br />
I have my MP620 set up on my WiFi network, these instructions are for pre-configured printers that can be seen on your LAN.</p>
<p>To start, make sure you have CUPS (common unix printing system) package installed, and <a href="https://wiki.archlinux.org/index.php/Avahi" title="ArchWiki entry on avahi">avahi</a> for network support. To check if you have these packages installed, run the following command:</p>
<pre class="bash">$ pacman -Qs cups</pre>
<p>You should hopefully see something similar to:</p>
<pre class="bash">local/cups 1.6.1-6
    The CUPS Printing System - daemon package</pre>
<p>Issue the same command for <code>avahi</code> and <code>system-config-printer</code>.</p>
<p>If these packages are not installed, run (<code>-Syy</code> command is optional and updates your package lists):</p>
<pre class="bash">$ sudo pacman -Syy
$ sudo pacman -S cups avahi system-config-printer</pre>
<p>Once those packages are installed, you&#8217;ll also need to add BJNP (Canon&#8217;s custom protocol) support for CUPS, there is a package for this called <a href="https://aur.archlinux.org/packages/cups-bjnp/">cups-bjnp</a> in the Arch user repository (AUR).</p>
<p>Download the tarball, extract and install it (note version and architecture may vary, my system is x86_64):</p>
<pre class="bash">$ tar xvf cups-bjnp.tar.gz &#038;&#038; cd cups-bjnp
$ makepkg -s
$ sudo pacman -U cups-bjnp-1.2-1-x86_64.pkg.tar.xz</pre>
<p>You install all AUR packages the same way, so refer to these commands, substituting the package name when you need to install other AUR packages.</p>
<p>Next download and install <a href="https://aur.archlinux.org/packages/cnijfilter-mp620/">Canon MP610/MP620/MP630 drivers</a> from the AUR (you might find you need to install <a href="https://aur.archlinux.org/packages/lib32-popt/">lib32-popt</a> first from the AUR if your system is x86_64):</p>
<pre class="bash">$ tar xvf cnijfilter-mp620.tar.gz &#038;&#038; cd cnijfilter-mp620
$ makepkg -s
$ sudo pacman -U cnijfilter-mp620-3.00-4-x86_64.pkg.tar.xz</pre>
<p>Once installed, you need to make sure CUPS starts automatically on boot. Usually you&#8217;d do this via:</p>
<pre class="bash">$ sudo systemctl enable cups.service</pre>
<p>You can try this, it didn&#8217;t work for me, so I had to manually symlink the service (found from <a href="https://bbs.archlinux.org/viewtopic.php?id=146154">this Arch forum thread</a>):</p>
<pre class="bash">$ sudo ln -s /usr/lib/systemd/system/cups.service \
/etc/systemd/system/multi-user.target.wants/cups.service</pre>
<p>Restart your computer. While it reboots, you can find the IP address of your MP620 by opening the top flap and using the wheel to select:</p>
<p><em>Settings &#8211; Device Settings &#8211; LAN Settings &#8211; Wireless LAN setting list</em>. Scroll down using the wheel until you see &#8216;IP address&#8217;. Note down the IP as you&#8217;ll need this to add your printer.</p>
<p>When you&#8217;re logged back in, open Print Settings. I run Xfce, so I found this by clicking the <em>Application Menu</em> &#8211; <em>System</em> &#8211; <em>Print Settings</em>. Alternatively you can open it by running:</p>
<pre class="bash">$ system-config-printer</pre>
<p>Click the &#8216;+&#8217; button and enter your root password. Next in the field labelled &#8216;Enter device URI&#8217; enter: <code>bjnp://[printer-ip]:8611</code> then click &#8216;Forward&#8217;.</p>
<p><img class="img center" src="http://i.imgur.com/PaWVP2k.png" alt="Add printer dialog" /></p>
<p>If your IP address is correct you should complete the add printer wizard and print a test page.</p>
<p><img class="img center" src="http://i.imgur.com/dWDb3Zm.png" alt="Printer settings window" /></p>
<p>Happy printing!</p>
                    <div class="g-plusone" data-size="medium"></div>
                        <a href="https://twitter.com/share?via=g4egk&amp;text=Install Canon PIXMA MP620 on Arch Linux" class="twitter-share-button">Tweet</a>
                    <br>
                </div>
                <div id="previous"></div>
                <div id="next"></div>
                
                
  <div class="comments">
    <h3>comments</h3><a name="comments"></a>
      <div class="comment hcomment" id="comment-6308">
      <small class="poster vcard">
                  <span class="fn">Menno</span> //
                <abbr class="dtposted" title="2013-08-20T16:29:20+00:00">20.Aug.2013</abbr> // 16:29      </small>
      <div class="description">
        <p>Thanks, man.</p>
<p>I was having trouble with a PIXMA MX515. I adjusted the instructions a bit, and this worked.</p>
      </div>
    </div>
          <div class="comment hcomment" id="comment-6838">
      <small class="poster vcard">
                  <span class="fn">João André</span> //
                <abbr class="dtposted" title="2013-12-08T21:57:17+00:00">08.Dec.2013</abbr> // 21:57      </small>
      <div class="description">
        <p>Hi, thanks for the tutorial. However, I was wondering if there was a way of setting up a MP620 in a Wi-fi network in Arch Linux or Ubuntu. Right now I don&#8217;t have any Windows machine on my network and need to configure the printer, but the Canon drivers only exist for Windows and Mac.</p>
      </div>
    </div>
          <div class="comment hcomment" id="comment-19245">
      <small class="poster vcard">
                  <span class="fn">Jon</span> //
                <abbr class="dtposted" title="2014-05-15T18:03:29+00:00">15.May.2014</abbr> // 18:03      </small>
      <div class="description">
        <p>Greg,</p>
<p>I followed the above instructions.  Everything seems to go as planned, except, the printer just spits our blank pages when I try to print anything.  Any ideas?</p>
<p>thanks!</p>
      </div>
    </div>
    	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>
</div>



              </div>
        </div>
    <div id="peripheral">
      <div id="blog_meta">
        <div id="search">
                    <form method="get" action="http://archive.gregk.me/search" accept-charset="utf-8">
                        <fieldset><input type="text" id="query" name="s" value="" /></fieldset>
                    </form>        </div>
        
        <div class="tags">
          <h4>this post's tags</h4>
          <ul><li><a href="tag/arch-linux/index.html" rel="tag">arch linux</a></li><li><a href="tag/mp620/index.html" rel="tag">mp620</a></li><li><a href="tag/printer/index.html" rel="tag">printer</a></li></ul>        </div>
      </div>
      <div id="feeds">

      </div>
    </div>
    </div>
</div>
<script charset="utf-8" src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
<script type="text/javascript">
  window.___gcfg = {lang: 'en-GB'};

  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<div id="container_footer">
    <div id="footer" class="vcard">
        <div class="who">
        	<h4>Who am I?</h4>
        	<p>My name is Greg &amp; this is my blog.
        	I'm a software engineer, amateur photographer, dad &amp; fulltime nerd.</p>
        	<p class="adr">I live in
        	<a href="http://maps.google.co.uk/maps/place?q=Hitchin" class="locality">Hitchin</a>, <abbr title="United Kingdom" class="country-name">England</abbr>. Once in a blue moon I write my thoughts on this blog.</p>
        </div>
        <div class="when">&nbsp;</div>
        <div class="where">
            <a href="http://github.com/gknapp" title="view my code" id="github"><span>My github projects</span></a>
            <a href="http://www.linkedin.com/in/g4egk" title="view my professional profile" id="linkedin" rel="me"><span>My Linkedin profile</span></a>
        </div>
        <div class="notice">
        	<strong>&copy; 2005-2014 <span class="fn n"><span class="given-name">Greg</span> <span class="family-name">Knapp</span></span>.</strong>
        	Views expressed here are my own and not necessarily those of my employer.
        </div>
        <div class="clear"><!-- for iPhone --></div>    </div>
</div>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1966441-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript">
  !window.jQuery && document.write(
  	unescape('%3Cscript src="http://static.gregk.me/js/jquery-1.4.2.min.js"%3E%3C/script%3E')
  )
</script>
<!--[if lt IE 7]>
<script type="text/javascript" src="http://static.gregk.me/js/jquery.ifixpng2.js"></script>
<script type="text/javascript">
  $.ifixpng('http://static.gregk.me/images/pixel.gif');
  $("#books img, #camera img, #macbook img, #iphone img").ifixpng();
</script>
<![endif]-->
<script type="text/javascript" src="http://static.gregk.me/js/min.110426.js"></script>
</body>
</html>
